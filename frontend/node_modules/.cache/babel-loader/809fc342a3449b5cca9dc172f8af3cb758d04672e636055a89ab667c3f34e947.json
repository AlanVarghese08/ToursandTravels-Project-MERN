{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{BASE_URL}from\"../utils/config\";import Card from\"../components/Card\";import\"../pages/adminhome.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const AdminHome=()=>{const[userCount,setUserCount]=useState(0);const[tourCount,setTourCount]=useState(0);const[bookingCount,setBookingCount]=useState(0);useEffect(()=>{const fetchData=async()=>{try{const userResponse=await fetch(\"\".concat(BASE_URL,\"/users/\"),{method:\"GET\",credentials:\"include\"});if(userResponse.ok){const userData=await userResponse.json();const count=userData.count;console.log(count);setUserCount(count||0);}else{console.error(\"Error fetching user count:\",userResponse.status);}}catch(error){console.error(\"Error fetching user data:\",error);}try{const tourResponse=await fetch(\"\".concat(BASE_URL,\"/tours/search/getTourCount\"),{method:\"GET\",credentials:\"include\"});if(tourResponse.ok){const tourCountData=await tourResponse.json();const count=tourCountData&&tourCountData.data?tourCountData.data:0;setTourCount(count);}else{console.error(\"Error fetching tour count:\",tourResponse.status);}}catch(error){console.error(\"Error fetching tour data:\",error);}try{const userResponse=await fetch(\"\".concat(BASE_URL,\"/booking/\"),{method:\"GET\",credentials:\"include\"});if(userResponse.ok){const bookings=await userResponse.json();const count=bookings.count;console.log(count);setBookingCount(count||0);}else{console.error(\"Error fetching user count:\",userResponse.status);}}catch(error){console.error(\"Error fetching user data:\",error);}};fetchData();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-home\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"admin-home-title\",children:\"Welcome to Admin Dashboard\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"container-card\",children:[/*#__PURE__*/_jsx(Card,{title:\"Users\",count:userCount}),/*#__PURE__*/_jsx(Card,{title:\"Tours\",count:tourCount}),/*#__PURE__*/_jsx(Card,{title:\"Bookings\",count:bookingCount})]})]});};export default AdminHome;","map":{"version":3,"names":["React","useState","useEffect","BASE_URL","Card","AdminHome","userCount","setUserCount","tourCount","setTourCount","bookingCount","setBookingCount","fetchData","userResponse","fetch","method","credentials","ok","userData","json","count","console","log","error","status","tourResponse","tourCountData","data","bookings"],"sources":["C:/Users/user/OneDrive/Documents/Tourism-Project-MERN/frontend/src/pages/AdminHome.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { BASE_URL } from \"../utils/config\";\r\nimport Card from \"../components/Card\";\r\nimport \"../pages/adminhome.css\";\r\n\r\nconst AdminHome = () => {\r\n  const [userCount, setUserCount] = useState(0);\r\n  const [tourCount, setTourCount] = useState(0);\r\n  const [bookingCount, setBookingCount] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const userResponse = await fetch(`${BASE_URL}/users/`, {\r\n          method: \"GET\",\r\n          credentials: \"include\",\r\n        });\r\n        if (userResponse.ok) {\r\n          const userData = await userResponse.json();\r\n          const count = userData.count;\r\n          console.log(count);\r\n          setUserCount(count || 0);\r\n        } else {\r\n          console.error(\"Error fetching user count:\", userResponse.status);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching user data:\", error);\r\n      }\r\n      try {\r\n        const tourResponse = await fetch(\r\n          `${BASE_URL}/tours/search/getTourCount`,\r\n          {\r\n            method: \"GET\",\r\n            credentials: \"include\",\r\n          }\r\n        );\r\n\r\n        if (tourResponse.ok) {\r\n          const tourCountData = await tourResponse.json();\r\n\r\n          const count =\r\n            tourCountData && tourCountData.data ? tourCountData.data : 0;\r\n\r\n          setTourCount(count);\r\n        } else {\r\n          console.error(\"Error fetching tour count:\", tourResponse.status);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching tour data:\", error);\r\n      }\r\n      try {\r\n        const userResponse = await fetch(`${BASE_URL}/booking/`, {\r\n          method: \"GET\",\r\n          credentials: \"include\",\r\n        });\r\n        if (userResponse.ok) {\r\n          const bookings = await userResponse.json();\r\n          const count = bookings.count;\r\n          console.log(count);\r\n          setBookingCount(count || 0);\r\n        } else {\r\n          console.error(\"Error fetching user count:\", userResponse.status);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching user data:\", error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"admin-home\">\r\n      <h1 className=\"admin-home-title\">Welcome to Admin Dashboard</h1>\r\n      <div className=\"container-card\">\r\n        <Card title=\"Users\" count={userCount} />\r\n        <Card title=\"Tours\" count={tourCount} />\r\n        <Card title=\"Bookings\" count={bookingCount} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminHome;\r\n"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,QAAQ,KAAQ,iBAAiB,CAC1C,MAAOC,KAAI,KAAM,oBAAoB,CACrC,MAAO,wBAAwB,CAAC,wFAEhC,KAAMC,UAAS,CAAG,IAAM,CACtB,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGN,QAAQ,CAAC,CAAC,CAAC,CAC7C,KAAM,CAACO,SAAS,CAAEC,YAAY,CAAC,CAAGR,QAAQ,CAAC,CAAC,CAAC,CAC7C,KAAM,CAACS,YAAY,CAAEC,eAAe,CAAC,CAAGV,QAAQ,CAAC,CAAC,CAAC,CAEnDC,SAAS,CAAC,IAAM,CACd,KAAMU,UAAS,CAAG,SAAY,CAC5B,GAAI,CACF,KAAMC,aAAY,CAAG,KAAMC,MAAK,WAAIX,QAAQ,YAAW,CACrDY,MAAM,CAAE,KAAK,CACbC,WAAW,CAAE,SACf,CAAC,CAAC,CACF,GAAIH,YAAY,CAACI,EAAE,CAAE,CACnB,KAAMC,SAAQ,CAAG,KAAML,aAAY,CAACM,IAAI,EAAE,CAC1C,KAAMC,MAAK,CAAGF,QAAQ,CAACE,KAAK,CAC5BC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAClBb,YAAY,CAACa,KAAK,EAAI,CAAC,CAAC,CAC1B,CAAC,IAAM,CACLC,OAAO,CAACE,KAAK,CAAC,4BAA4B,CAAEV,YAAY,CAACW,MAAM,CAAC,CAClE,CACF,CAAE,MAAOD,KAAK,CAAE,CACdF,OAAO,CAACE,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACnD,CACA,GAAI,CACF,KAAME,aAAY,CAAG,KAAMX,MAAK,WAC3BX,QAAQ,+BACX,CACEY,MAAM,CAAE,KAAK,CACbC,WAAW,CAAE,SACf,CAAC,CACF,CAED,GAAIS,YAAY,CAACR,EAAE,CAAE,CACnB,KAAMS,cAAa,CAAG,KAAMD,aAAY,CAACN,IAAI,EAAE,CAE/C,KAAMC,MAAK,CACTM,aAAa,EAAIA,aAAa,CAACC,IAAI,CAAGD,aAAa,CAACC,IAAI,CAAG,CAAC,CAE9DlB,YAAY,CAACW,KAAK,CAAC,CACrB,CAAC,IAAM,CACLC,OAAO,CAACE,KAAK,CAAC,4BAA4B,CAAEE,YAAY,CAACD,MAAM,CAAC,CAClE,CACF,CAAE,MAAOD,KAAK,CAAE,CACdF,OAAO,CAACE,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACnD,CACA,GAAI,CACF,KAAMV,aAAY,CAAG,KAAMC,MAAK,WAAIX,QAAQ,cAAa,CACvDY,MAAM,CAAE,KAAK,CACbC,WAAW,CAAE,SACf,CAAC,CAAC,CACF,GAAIH,YAAY,CAACI,EAAE,CAAE,CACnB,KAAMW,SAAQ,CAAG,KAAMf,aAAY,CAACM,IAAI,EAAE,CAC1C,KAAMC,MAAK,CAAGQ,QAAQ,CAACR,KAAK,CAC5BC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CAClBT,eAAe,CAACS,KAAK,EAAI,CAAC,CAAC,CAC7B,CAAC,IAAM,CACLC,OAAO,CAACE,KAAK,CAAC,4BAA4B,CAAEV,YAAY,CAACW,MAAM,CAAC,CAClE,CACF,CAAE,MAAOD,KAAK,CAAE,CACdF,OAAO,CAACE,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACnD,CACF,CAAC,CAEDX,SAAS,EAAE,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,mBACE,aAAK,SAAS,CAAC,YAAY,wBACzB,WAAI,SAAS,CAAC,kBAAkB,UAAC,4BAA0B,EAAK,cAChE,aAAK,SAAS,CAAC,gBAAgB,wBAC7B,KAAC,IAAI,EAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAEN,SAAU,EAAG,cACxC,KAAC,IAAI,EAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAEE,SAAU,EAAG,cACxC,KAAC,IAAI,EAAC,KAAK,CAAC,UAAU,CAAC,KAAK,CAAEE,YAAa,EAAG,GAC1C,GACF,CAEV,CAAC,CAED,cAAeL,UAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}